/*! This file is created by FDD */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("echarts")):"function"==typeof define&&define.amd?define(["echarts"],e):"object"==typeof exports?exports.ol3Echarts=e(require("echarts")):t.ol3Echarts=e(t.echarts)}(this,function(t){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(e,n){e.exports=t},function(t,e,n){var o=n(0),r=function(t,e){this.map=t;var n=this.map.getSize(),r=document.createElement("div");if(r.style.position="absolute",r.style.height=n[1]+"px",r.style.width=n[0]+"px",r.style.top=0,r.style.left=0,e&&0===e.indexOf(".")){this.getElementsByClassName(e,window).appendChild(r)}else if(e&&0===e.indexOf("#")){var i="string"==typeof id?document.getElementById(id):id;i.appendChild(r)}else this.map.getViewport().appendChild(r);if(this._echartsContainer=r,this.chart=o.init(r),!o)throw new Error("请先引入echarts3！");o.Map=t,this.resize()};r.prototype.getElementsByClassName=function(t,e){var n=e||window;return n.document.querySelector.bind(n.document)(t)},r.prototype.remove=function(){this._echartsContainer.parentNode.removeChild(this._echartsContainer),this.map=void 0,o.Map=void 0},r.prototype.resize=function(){var t=this,e=this.map.getSize();t._echartsContainer.style.width=e[0]+"px",t._echartsContainer.style.height=e[1]+"px";var n="orientationchange"in window?"orientationchange":"resize",o=window.document;window.addEventListener(n,function(){setTimeout(function(){t.chart.resize()},50)},!1),window.addEventListener("pageshow",function(e){e.persisted&&setTimeout(function(){t.chart.resize()},50)},!1),"complete"===o.readyState?setTimeout(function(){t.chart.resize()},50):o.addEventListener("DOMContentLoaded",function(e){setTimeout(function(){t.chart.resize()},50)},!1)},t.exports=r},function(t,e,n){var o;void 0!==(o=function(t){return n(0).registerCoordinateSystem("HMap",n(4)),n(5),n(6),n(0).registerAction({type:"MapRoam",event:"MapRoam",update:"updateLayout"},function(t,e){}),{version:"1.2.0"}}.call(e,n,e,t))&&(t.exports=o)},function(t,e,n){n(2);var o=n(1);t.exports=o},function(t,e,n){var o;void 0!==(o=function(t){var e=n(0),o=function(t,e){this.Map=t,this.dimensions=["lng","lat"],this._mapOffset=[0,0],this._api=e};return o.prototype.dimensions=["lng","lat"],o.prototype.setMapOffset=function(t){this._mapOffset=t},o.prototype.getBMap=function(){return this.Map},o.prototype.setMap=function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.Map=t},o.prototype.dataToPoint=function(t){return t&&Array.isArray(t)&&t.length>0&&(t=t.map(function(t){return"string"==typeof t&&(t=Number(t)),t})),this.Map.getPixelFromCoordinate(ol.proj.fromLonLat(t))},o.prototype.pointToData=function(t){return this.Map.getCoordinateFromPixel(t)},o.prototype.getViewRect=function(){var t=this._api;return new e.graphic.BoundingRect(0,0,t.getWidth(),t.getHeight())},o.prototype.getRoamTransform=function(){return e.matrix.create()},o.dimensions=o.prototype.dimensions,o.create=function(t,n){var r=null;t.eachComponent("HMap",function(t){var i=e.Map;r=new o(i,n),r.setMapOffset(t.mapOffset||[0,0]),t.coordinateSystem=r}),t.eachSeries(function(t){"HMap"===t.get("coordinateSystem")&&(t.coordinateSystem=r)})},o}.call(e,n,e,t))&&(t.exports=o)},function(t,e,n){var o;void 0!==(o=function(t){return n(0).extendComponentModel({type:"HMap",getBMap:function(){return this.Map},defaultOption:{roam:!1}})}.call(e,n,e,t))&&(t.exports=o)},function(t,e,n){var o;void 0!==(o=function(t){var e=n(0);return e.extendComponentView({type:"HMap",render:function(t,n,o){var r=!0,i=e.Map,a=o.getZr().painter.getViewportRoot(),p=t.coordinateSystem,s=function(e,n){if(!r){var i=a.parentNode.parentNode.parentNode,s=[-parseInt(i.style.left,10)||0,-parseInt(i.style.top,10)||0];a.style.left=s[0]+"px",a.style.top=s[1]+"px",p.setMapOffset(s),t.mapOffset=s,o.dispatchAction({type:"MapRoam"})}},c=function(){r||o.dispatchAction({type:"MapRoam"})};this._oldMoveHandler=s,this._oldZoomEndHandler=c,i.getView().on("change:resolution",s),i.getView().on("change:center",s),i.getView().on("change:rotation",s),i.on("moveend",s);t.get("roam");r=!1}})}.call(e,n,e,t))&&(t.exports=o)}])});