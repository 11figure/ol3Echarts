<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="shortcut icon" href="images/icon.png"/>
  <title>ol3Echarts</title>
  <meta name="keywords" content="openlayers，echarts"/>
  <link rel="stylesheet" href="assets/style/style.css">
</head>
<body>
<div class="main">
  <div class="charts-list">
    <ul id="charts-list-ul" class="charts-list-ul clearfix"></ul>
  </div>
</div>
<script src="//cdn.jsdelivr.net/npm/three/build/three.min.js"></script>
<script src="./assets/scripts/threeEarth.js"></script>
<script src="./assets/scripts/common.js"></script>
<script type="text/javascript">
  var threeEarth = new ThreeEarth();
  threeEarth.init();
  threeEarth.animate();
  var render = Tpl(String(function(){/*
   <% for(var i = 0; i < charts.length; i++){ %>
   <li class="chart">
   <div class="chart_wrap">
   <a class="chart_bg" target="_blank" href="<%= charts[i].url %>" style="background-image: url("<%= charts[i].imgSrc %>");>
   <div class="chart_hover animation">
   <div class="chart_magnifier">
   <img src="./assets/images/magnifier.png">
   </div>
   <span>点击查看</span>
   </div>
   </a>
   <div class="chart_info">
   <div class="chart_name"><%= charts[i].chart_name %></div>
   <div class="chart_detail clearfix">
   <div class="chart_author pull-left">
   <span class="chart_icon chart_author_icon"></span>
   <span class="chart_icontxt"><%= charts[i].chart_author %></span>
   </div>
   <div class="chart_time pull-right">
   <span class="chart_icon chart_time_icon"></span>
   <span class="chart_icontxt"><%= charts[i].chart_time %></span>
   </div>
   </div>
   </div>
   </div>
   </li>
   <% } %>
   */}).match(/^.*?\*([\s\S]*)\*/)[1]);
  $fetch.get('./config.json').then(function (res) {
    var template = render({
      charts: res.data
    });
    var content = document.querySelector('#charts-list-ul');
    content.appendChild(parseDom(template));
  });
</script>
</body>
</html>
